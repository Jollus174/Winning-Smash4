/* Colour-scheme */

@import "_customVariables";
//@import "_variables";
@import "_stages";
@import "bootstrap-sass-4.0.0/bootstrap";
@import "font-awesome-4.7.0/font-awesome.scss";
@import "animations.scss";
@import "character-icons.scss";

/* --- VARIABLES - BECAUSE BROWSERSYNC KEEPS CRASHING --- */

$primary-colour:#ff5131;
$secondary-colour:#e6bd3b;

$text-light:#FFF;
$text-dark:#431c0b;

$button-primary:#d0361a;
$button-primary-hover:darken($button-primary, 15%);
$button-primary-active:darken($button-primary, 15%);

$bowser:#32765c;
$bowser-button-homepage:darken($bowser, 10%);
$bowser-button-primary:#ff7043;
$bowser-button-primary-hover:darken($bowser-button-primary, 10%);
$bowser-button-primary-active:#d82800;

$donkey-kong:#feda00;
$donkey-kong-button-homepage:darken($donkey-kong, 10%);
$donkey-kong-button-primary:#9c840e;
$donkey-kong-button-primary-hover:darken($donkey-kong-button-primary, 10%);
$donkey-kong-button-primary-active:#9c840e;

$gnw:#8a8983;
$gnw-button-homepage:darken($gnw, 10%);
$gnw-button-primary:#ff7043;
$gnw-button-primary-hover:darken($gnw-button-primary, 10%);
$gnw-button-primary-active:#d82800;

$lucas:#f05f1b;
$lucas-button-homepage:darken($lucas, 10%);
$lucas-button-primary:#9c840e;
$lucas-button-primary-hover:darken($lucas-button-primary, 10%);
$lucas-button-primary-active:#9c840e;

$robin:#ce82de;
$robin-button-homepage:darken($robin, 10%);
$robin-button-primary:#ce82de;
$robin-button-primary-hover:darken($robin-button-primary, 10%);
$robin-button-primary-active:#d82800;

$zelda:#aa74ba;
$zelda-button-homepage:darken($zelda, 10%);
$zelda-button-primary:#aa74ba;
$zelda-button-primary-hover:darken($zelda-button-primary, 10%);
$zelda-button-primary-active:#7c468c;

/* --- */

.bowser{
    &:hover{
        &.nav-characters li > span{
            background:$bowser !important;
        }
    }
    .secondarynav{
        background-color:$bowser;
        .dropdown-menu{
            background-color:$bowser;
        }
    }
    .btn, .dropdown-item{
        color:$text-light;
        background-color:darken($bowser, 10%) !important;
        &:hover, &.active{background-color:darken($bowser-button-homepage, 10%) !important;}
    }
    &.card-deck{
        .card-image-top{
            background-color:$bowser;
            color:$text-light;
        }
        .btn{
            background-color:darken($bowser, 10%) !important;
        }
    }
    &.nav-characters:before{background:$bowser;}
    li > span{
        background:transparentize($bowser, 0.2) !important;
        color: $text-light !important;
    }
    .nav-moves a{
        position:relative;
        &:before{background:transparentize($bowser, 0.5) !important;}
    }
    .dropdown-menu, #sort{background-color:$bowser}
}


.donkey-kong{
    &:hover{
        &.nav-characters li > span{
            background:$donkey-kong !important;
        }
    }
    .secondarynav{
        background-color:$donkey-kong;
        .dropdown-menu{
            background-color:$donkey-kong;
        }
        .navbar-brand{
            color:$text-dark !important;
            .pathfill{
                fill:$text-dark;
            }
        }
    }
    .btn, .dropdown-item{
        background-color:$donkey-kong-button-primary !important;
        //border-color:$donkey-kong-button-primary;
        color:$text-light;
        &:hover, &.active{background-color:darken($donkey-kong-button-primary, 10%) !important;}
    }
    &.card-deck{
        .card-image-top{
            background-color:$donkey-kong;
            color:$text-dark;
        }
        .btn{
            background-color:darken($donkey-kong, 10%) !important;
        }
    }
    &.nav-characters{
        &:before{background:$donkey-kong;}
        li > span{
            background:transparentize($donkey-kong, 0.2) !important;
            color: $text-dark !important;
        }
        .nav-moves a{
            position:relative;
            &:before{background:transparentize($donkey-kong, 0.5) !important;}
        }
    }
    .dropdown-menu, #sort{background-color:$donkey-kong}
}

.game-and-watch{
    &:hover{
        &.nav-characters li > span{
            background:$gnw !important;
        }
    }
    .secondarynav{background-color:$gnw;}
    .btn, .dropdown-item{
        background-color:$gnw-button-homepage !important;
        // border-color:$gnw-button-homepage;
        color:$text-light;
        &:hover, &.active{background-color:darken($gnw-button-homepage, 10%) !important;}
    }
    &.card-deck{
        .card-image-top{
            background-color:$gnw;
            color:$text-light;
        }
        .btn{
            background-color:darken($gnw, 10%) !important;
        }
    }
    &.nav-characters{
        //

        li > span{
            background:transparentize($gnw, 0.2) !important;
            color: $text-light !important;
        }
        .nav-moves a{
            position:relative;
            &:before{background:transparentize($gnw, 0.5) !important;}
        }
    }
    .dropdown-menu, #sort{background-color:$gnw}
}

.lucas{
    &:hover{
        &.nav-characters li > span{
            background:$lucas !important;
        }
    }
    .secondarynav{background-color:$lucas;}
    .btn, .dropdown-item{
        background-color:$lucas-button-homepage !important;
        //border-color:$lucas-button-homepage;
        &:hover, &.active{background-color:darken($lucas-button-homepage, 10%) !important;}
    }
    &.card-deck{
        .card-image-top{
            background-color:$lucas;
            color:$text-light;
        }
        .btn{
            background-color:darken($lucas, 10%) !important;
        }
    }
    .btn{color:$text-light;}
    &.nav-characters{
        li > span{
            background:transparentize($lucas, 0.2) !important;
            color: $text-light !important;
        }
        .nav-moves a{
            position:relative;
            &:before{background:transparentize($lucas, 0.5) !important;}
        }
    }
    .dropdown-menu, #sort{background-color:$lucas}
}

.robin{
    &:hover{
        &.nav-characters li > span{
            background:$robin !important;
        }
    }
    .secondarynav{background-color:$robin;}
    .btn, .dropdown-item{
        background-color:$robin-button-homepage !important;
        color:$text-light;
        //border-color:$robin-button-homepage;
        &:hover, &.active{background-color:darken($robin-button-homepage, 10%) !important;}
    }
    &.card-deck{
        .card-image-top{
            background-color:$robin;
            color:$text-light;
        }
        .btn{
            background-color:darken($robin, 10%) !important;
        }
    }
    &.nav-characters{
        &:before{background:transparentize($robin, 0.5) !important;}
        li > span{
            background:transparentize($robin, 0.2) !important;
            color: $text-light !important;
        }
        .nav-moves a{
            position:relative;
            &:before{background:transparentize($robin, 0.5) !important;}
        }
    }
    .dropdown-menu, #sort{background-color:$robin}
}

.zelda{
    &:hover{
        &.nav-characters li > span{
            background:$zelda !important;
        }
    }
    .secondarynav{background-color:$zelda;}
    .btn, .dropdown-item{
        background-color:$zelda-button-homepage !important;
        color:$text-light;
        //border-color:$zelda-button-homepage;
        &:hover, &.active{background-color:darken($zelda-button-homepage, 10%) !important;}
    }
    &.card-deck{
        .card-image-top{
            background-color:$zelda;
            color:$text-light;
        }
        .btn{
            background-color:darken($zelda, 10%) !important;
        }
    }
    &.nav-characters{
        &:before{background:transparentize($zelda, 0.5) !important;}
        li > span{
            background:transparentize($zelda, 0.2) !important;
            color: $text-light !important;
        }
        .nav-moves a{
            position:relative;
            &:before{background:transparentize($zelda, 0.5) !important;}
        }
    }
    .dropdown-menu, #sort{background-color:$zelda}
}



/* Cards */

/* --- Temporary style, the BG colour will normally be auto-generated --- */
.card{
    .characterImage{
        background-repeat: no-repeat;
        background-position: right center;
        opacity:0.5;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        right: 0;
    }
    .card-image-top{
        position:relative;
    }
    .card-body{
        position:relative;
        // padding:0.75rem 1.25rem;
        .btn-group > .btn{
            margin-left:0;
        }
        button{
            margin-right:5px;
            border:2px solid;
        }
    }
}
.moveBtn.active{
    border-color:rgba(213, 0, 0, 0.5) !important;
}
#characterSelection .card{
    margin-bottom:10px;
}


/* --- CAAAARDS --- */

// https://stackoverflow.com/questions/10929458/sass-converting-hex-to-rgba-for-background-opacity
// @mixin background-opacity($color, $opacity:0.3){
//     background:
// }

// babeh's first mix-in :)
// not yet
//@mixin




.nav-characters li > span{
    transition:all 0.2s ease;
}


// nav-characters bowser

/* --- */





/* Normalise */

@font-face {
    font-family: 'Roboto';
    font-style: normal;
    font-weight: 400;
    src: local('Roboto Regular'), local('Roboto-Regular'), url('../fonts/roboto.woff') format('woff');
}

::-webkit-input-placeholder { /* Chrome/Opera/Safari */
  color: #bbbbbb;
}
::-moz-placeholder { /* Firefox 19+ */
  color: #bbbbbb;
}
:-ms-input-placeholder { /* IE 10+ */
  color: #bbbbbb;
}
:-moz-placeholder { /* Firefox 18- */
  color: #bbbbbb;
}

.divider{
    display: block;
    height: 1px;
    background-color: rgba(0,0,0,.12);
}

#search{
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiIGQ9Ik0xNS41IDE0aC0uNzlsLS4yOC0uMjdDMTUuNDEgMTIuNTkgMTYgMTEuMTEgMTYgOS41IDE2IDUuOTEgMTMuMDkgMyA5LjUgM1MzIDUuOTEgMyA5LjUgNS45MSAxNiA5LjUgMTZjMS42MSAwIDMuMDktLjU5IDQuMjMtMS41N2wuMjcuMjh2Ljc5bDUgNC45OUwyMC40OSAxOWwtNC45OS01em0tNiAwQzcuMDEgMTQgNSAxMS45OSA1IDkuNVM3LjAxIDUgOS41IDUgMTQgNy4wMSAxNCA5LjUgMTEuOTkgMTQgOS41IDE0eiIvPjwvc3ZnPg==);
    background-repeat: no-repeat;
    background-position: right center;
    border: none;
    border-bottom: 1px solid rgba(0,0,0,.4);
    animation-duration: .1ms;
    animation-name: mui-node-inserted;
    display: block;
    background-color: transparent;
    color: rgba(0,0,0,.87);
    outline: 0;
    height: 32px;
    width: 100%;
    font-size: 16px;
    padding: 0;
    box-shadow: none;
    border-radius: 0;
    // margin:15px 0;
}
#search:focus{
    border-color: #333;
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJyZ2JhKDAsMCwwLDAuOSkiIGQ9Ik0xNS41IDE0aC0uNzlsLS4yOC0uMjdDMTUuNDEgMTIuNTkgMTYgMTEuMTEgMTYgOS41IDE2IDUuOTEgMTMuMDkgMyA5LjUgM1MzIDUuOTEgMyA5LjUgNS45MSAxNiA5LjUgMTZjMS42MSAwIDMuMDktLjU5IDQuMjMtMS41N2wuMjcuMjh2Ljc5bDUgNC45OUwyMC40OSAxOWwtNC45OS01em0tNiAwQzcuMDEgMTQgNSAxMS45OSA1IDkuNVM3LjAxIDUgOS41IDUgMTQgNy4wMSAxNCA5LjUgMTEuOTkgMTQgOS41IDE0eiIvPjwvc3ZnPg==);
}



html {
    background-color: #eee;
}
body {
    background-color: #eee;
    position:relative; /* for underlay */
}

ul,
ol {
    padding: 0;
}

.content {
    margin-left: auto;
    margin-right: auto;
}

.container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    position:relative;
}

/*header h3 {
    margin: 0;
}*/

#character-list {
    transition: opacity 0.2s ease-in-out;
}

.loading #character-list {
    opacity: 0.2;
}
.loader{display:none;}
.loading{
    .loader-container{
        background: #eee;
        position: fixed;
        width: 100%;
        height: 100%;
        z-index: 999;
        .loader{
            position: absolute;
            display:block;
            margin: auto;
            top: 0;
            // right: 0;
            right:0;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 50px;
            z-index:999;
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 2px 2px rgba(0,0,0,0.2);
        }
    }
}

#main {
    margin-top: 3em;
    /*width: 100%; Eh, this messes up the side margins */
    position:relative;
}
.loading #main{display:none; /* Will show this when Knockout is doing its thing */}

#offline {
    background: #f00;
    color: #fff;
    padding: 1em;
    text-align: center;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
}

.clearfix:before,
.clearfix:after {
    content: " ";
    display: table;
}

.clearfix:after {
    clear: both;
}
:after, :before {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}


/* --- NEW CODE --- */


/* TODO - Replace these! */
.desktop{display:none;}
.desktop-lg{display:none;}
.mobile{display:block;}
span.mobile{display:inline;}

.no-scroll{overflow:hidden;}
/* Header will bug out mobile scrolling with modal box if position is fixed */
/*.no-scroll header{position:absolute;} THIS WILL MESS UP THE MODAL BOX ANYWAY */

#icon-menu path{fill:#333;}

.icon-arrowback, #icon-prev, #icon-next{
    .pathfill{fill:#FFF;}
}

.legend-keys{
    .icon-keyboard{
        fill:#FFF;
        width:45px;
    }
}

.text-dark{
    .legend-keys > div{
        // border-color: rgba(54, 51, 51, 0.2);
        background: rgba(51, 51, 51, 0.1);
        color:#333;
    }
    .icon-keyboard{
        fill:#333 !important;
    }
    .legend-keys--shift, .legend-keys--escape{
        background:#333 !important;
    }
    .icon-arrowback{
        .pathfill{
            fill:#333;
        }
    }
    #modalTitle span{
        fill:#333;
    }

    .characterOverview{
        color:#333;
    }
    .stickyName{color:#333;}
}


#notification, #notification-offline{
    display:none;
    position: fixed;
    z-index: 1000;
    left: 0;
    right: 0;
    bottom: 30px;
    margin: 0 auto;
    background: #fff;
    width: 260px;
    padding: 10px;
    border-radius: 5px;
    text-align: center;
    border: 3px solid $primary-colour;
    box-shadow: 0 3px rgba(0,0,0,0.2);
    font-weight: 700;
}

#notification-offline{
    border-color:#bcdff1;
    width:100%;
    min-width:260px;
    max-width:400px;
    padding-left:10px;
    padding-right:10px;
}

/* ---HEADER --- */

header {
    /*position:fixed;
    top: 0;
    left: 0;
    right: 0;*/
    z-index:7;
    background-color: $primary-colour;
    height: 3em;
    line-height: 3em;
    color: #000;
    /*transform: translateZ(0);*/
    backface-visibility: hidden;
    /*overflow:hidden; This prevents the button filters from displaying on mobile if active ): */
}

.header-title{
    float:left;
}
.header-filters{
    float:right;
    width:50%;
    -webkit-transform: translate(-200px,0);
    transform: translate(-200px,0);
}
.header-filters li{
    list-style-type:none;
    float:left;
    padding:0 10px;
}

.main-logo{margin-top:-10px;}


#sidedrawer {
    bottom: 0;
    left: -200px;
    top: 0;
    width: 200px;
    /*-webkit-transform: translate(-200px,0);
    transform: translate(-200px,0);*/
    overflow: auto;
    background-color: #fff;
    /*transition: -webkit-transform .2s ease-in-out;
    transition: transform .2s ease-in-out;
    transition: transform .2s ease-in-out,-webkit-transform .2s ease-in-out;*/
    position: absolute;
    z-index: 6;
}
body.toggle-sidedrawer #sidedrawer{
    /* Needs to be positioned via left and with contents fixed to avoid render jank when displaying on mobile */
    left:0px;
}
#sidedrawer-overlay{
    display: none;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 5;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.2);
    overflow: auto;
}
#sidedrawer-contents{
    position:fixed;
    top:50px;
}

body.toggle-sidedrawer #sidedrawer-overlay{
    display:block;
}
body.toggle-sidedrawer{
    overflow: hidden;
}
#sidedrawer{
    >ul {
        padding-left: 0;
        >li:first-child{
            padding-top:15px;
        }
    }
    ul {
        list-style: none;
    }
    a{
        display:block;
        border-left: 5px solid #e4e4e4;
        margin-bottom: 5px;
    }
    a, a:hover{
        color: rgba(0,0,0,.87);
        text-decoration: none;
    }
    strong {
        display: block;
        padding: 15px 22px;
    }
}
#sidedrawer-brand{
    padding-left:20px;
    font-size: 16px;
    line-height: 64px;
    font-weight:400;
}
#sidedrawer-contents li a:hover{
    background-color:#e0e0e0;
    cursor:pointer;
}

#sidedrawer-contents li a.disabled{
    color: #e8e8e8;
    border-left-color: #f9f9f9;
}
#sidedrawer-contents li a.disabled:hover{
    background:transparent;
    cursor:default;
}


.sidedrawer-toggle{
    padding: 12px 12px 12px 17px;
    color: #333;
    cursor: pointer;
    font-size: 20px;
    line-height: 20px;
    margin-right: 10px;
    transition: background 0.5s ease;
    text-align: center;
    background: $secondary-colour;
}
.sidedrawer-toggle:hover{
    background: rgba(255,255,255,0.5);
}
.sidedrawer-toggle svg{vertical-align:middle;}


body.toggle-sidedrawer{
    .navbar-static-side{
        display:none !important;
    }
    #page-wrapper{
        margin:0;
    }
}

.filtersText{display:none;}

#filter-toggle{
    float: right;
    color: #FFF;
    padding:2px 10px !important;
    margin-top:5px;
    margin-bottom:4px;
    margin-left:12px;
    width: 80px;
    font-weight: 700;
    width:100px;
    border:none !important;
    &:hover{
        cursor:pointer;
    }
    &:focus{
        outline:none;
    }
    span{
        float:left;
        margin-top:3px;
        font-size: 12px;
        font-weight:700;
        text-transform: uppercase;
    }
    img{
        float:right;
    }
    &.active{
        #icon-filter{
            fill:#FFF;
        }
        img{
            display:none;
            &.whitefilter{
                display:none;
            }
        }
    }
    #icon-filter{
        float:right;
        fill:#FFF;
    }
}
.whitefilter{display:none;}

.btn-group.mobile{
    display: none;
    background: #e2ba3b;
    padding: 5px 5px 10px;
    /* height: 53px; */
    width: 100%;
    line-height: 36px;
}
.btn-group.mobile.active{
    display:inline-block;
    text-align:center;
}
.card-body .btn-group{
    display:flex;
    flex-wrap:wrap;
}

/* --- */

/* --- CONTENT CONTAINERS --- */

#body .search-box{
    position:relative;
    overflow:hidden;
    .clear-input{display:none;}
    &.active{
        .clear-input{
            display:block;
            position: absolute;
            top: -3px;
            background: none;
            border: none;
            background-color: transparent !important;
            right: 0;
            padding: 6px 0;
        }
        #search{
            background:none;
        }
    }
}

.wrapper{
    width:100%;
}

#page-wrapper{
    // overflow-x:hidden;
}
.navbar{
    width:100%;
    &#primarynav{
        background:$primary-colour;
        overflow:visible;
        z-index:6;
        .navbar-nav{
            // opacity:1 !important;
            // transition: opacity 0.2s ease;
            display:none;
        }
    }

    #navbar-toggler{
        transition:background 0.2s ease;
        &:hover{
            cursor:pointer;
            // background:rgba(255,255,255,0.1);
            background:lighten($primary-colour, 5%);
        }
        &:focus{
            outline:inherit;
        }
    }
}
body.animating{
    #primary-nav{
        /* Link items in top-right */
        .navbar-nav{
            // opacity:0 !important;
        }
    }
}
.nav-wrapper{
    margin-left:-15px;
    margin-right:-15px;
};
.navbar-static-side {
    z-index: 5;
    position: absolute;
    width: 220px;
    height:100%;
    background:#FFF;
    overflow-x:hidden;
    .sidebar-bottom-links{
        position: absolute;
        bottom: 0;
        width: 100%;
        text-align: center;
        padding: 5px 0 10px;
        margin: 0;
        background: #FFF;
        li{
            display:inline-block;
            a{
                font-size: 0.75rem;
                margin: 0 0.3rem;
                color: #333;
            }
        }
    }
}

.--white{
    color:#FFF !important;
}

#sidebar {
    min-width: 250px;
    max-width: 250px;
    min-height: 100vh; /* Is at least equal to the viewport height */
}

#sidebar.active {
    margin-left: -250px;
}

.special-info{
    display:none;
    font-size:0.8em;
    // border:1px solid #e7eaec;
    // background-color:#f5f5f5;
    // color:#333;
    &.active{
        display:inline-block;
    }
}



#side-menu {
    color: #fff;
    transition: all 0.3s;
    .sidebar-header {
        width:100%;
        padding: 20px;
        background: #d50000;
    }
    li{
        width:100%;
    }
    ul.components {
        // padding: 20px 0;
        flex-direction:column;
        &.nav-characters{
            > li{
                border-bottom: 1px solid #cccccc;
                &:last-child{
                    // border-bottom: 1px solid #cccccc;
                }
                a{
                    transition:all 0.2s ease;
                }
                a:hover{
                    background:#efefef;
                }
            }
        }
        li > a, li > span{
            // width: 225px;
            // padding-left: 20px;
            // // height: 50px;
            padding: 15px 0 15px 20px;
            display: block;
            overflow: hidden;
            position: relative;
            text-decoration: none;
            font-size: 14px;
            line-height: 24px;
            color: #686868;
        }
        li > span{
            background: #efefef;
            text-transform: uppercase;
            font-weight: 700;
        }
        .nav-moves{
            a{
                padding: 10px 10px 10px 20px;
                position:relative;
                &:before{
                    content: '';
                    position: absolute;
                    left: 0;
                    top: 0;
                    width: 3px;
                    height: 100%;
                    z-index: 5;
                    transition: width 0.2s ease;
                }
                &:hover{
                    &:before{
                        width:6px;
                    }
                }
                &.active{
                    &:before{
                        width:6px;
                    }
                }
            }
        }
    }
    // .list-unstyled.components.nav > li{
    //     padding-bottom:10px;
    // }
    // .list-unstyled.components.nav > li:last-child{
    //     padding-bottom:0;
    // }
    span, a{
        display: block;
        padding: 0.2rem 1.5rem;
        font-weight: 500;
        color: rgba(0,0,0,.65);
    }
    li.active{
        color: rgba(0,0,0,.85);
    }


    li > a:hover{
        color: rgba(0,0,0,.85);
        text-decoration: none;
        background-color: transparent;
    }
}

//

#content-wrapper {
    min-height: 100%;
    overflow-x: hidden;
    transition: -webkit-transform .2s ease-in-out;
    transition: transform .2s ease-in-out;
    transition: transform .2s ease-in-out,-webkit-transform .2s ease-in-out;
}
#content-wrapper, #sidedrawer{
    /*-webkit-transition: -webkit-transform .2s ease-in-out;*/
}

.panel {
    margin-bottom: 20px;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    -webkit-box-shadow: 0 1px 1px rgba(0,0,0,.05);
    box-shadow: 0 1px 1px rgba(0,0,0,.05);
}
.panel-heading {
    padding: 10px 15px;
    border-bottom: 1px solid transparent;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    color: #333;
    background-color: #f5f5f5;
    border-color: #ddd;
}
.panel-title {
    margin-top: 0;
    margin-bottom: 0;
    font-size: 16px;
    color: inherit;
}
.panel-body {
    padding: 15px 15px 0;
}

.navbar-top-links{
    position:relative;
}
.open .dropdown-menu{
    display:block;
}
.dropdown-menu{
    position: absolute;
    top: 39px;
    right: 0;
    z-index: 10;
    display: none;
    float: left;
    min-width: 230px;
    padding: 5px 0;
    margin: 0;
    font-size: 14px;
    line-height: 40px;
    text-align: right;
    list-style: none;
    background-color: darken(desaturate($primary-colour, 4%), 4%);
    background-clip: padding-box;
    border: none;
    border-radius: 4px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    box-shadow: 0 3px 3px rgba(0,0,0,.175);
}
.dropdown-toggle::after{
    margin-left: 0.55em;
    vertical-align: 0.155em;
}


body{
    #secondarynav{
        .navbar-header{
            display:none;
        }
    }
    &.show-secondary-dropdown{
        .navbar-header{
            display:block !important;
        }
    }
}
#secondarynav{
    display:block;
    transition:background-color 0.2s ease;
    z-index:6;
    position:absolute;
    // position:fixed;



    #character-wrapper-back{
        float:left;
        padding: 0.3125rem 0.45rem;
        transition:background 0.2s ease;
        cursor:pointer;
        position:relative;
        z-index:5;
        margin-right:0.7rem;
        &:hover{
            background:rgba(0, 0, 0, 0.08);
        }
        &:focus{
            outline:inherit;
        }
    }
    #secondarynav-container{
        position: fixed;
        width: 100%;
    }
    .navbar-top-links{
        float:right;
        padding-top: 0.3125rem;
        padding-bottom: 0.3125rem;
    }

    #filtersbar-container{
        position:relative;
        top:50px
    }

    .dropdown-menu{
        top: 54px;
        padding: 0 7.5px;
        text-align:left;
        background-color:transparent;
        color:#FFF;
        min-width:280px;
        max-width:500px;
        padding:0 7.5px;
        display:none;
        box-shadow:none;
        &.show{
            display:block;
        }
        .dropdown-item{
            transition:background-color 0.2s ease;
            &:hover{
                cursor:pointer;
            }
        }
    }
}

#filtersbar-container{
    position:relative;
    top:54px;
}
#filtersbar{
    // margin-top:10px;
    // margin-bottom:10px;
    #sort{
        width:283px;
        margin-left:10px;
        // margin-top:2px; /* Messes up on desktop with character grid out */
        .dropdown-menu{
            padding:0;
            overflow:hidden;
            li{
                padding:0;
                button{
                    width:100%;
                    text-align:right;
                    margin:0;
                    padding: 10px;
                    border-bottom: 1px solid rgba(0,0,0,0.2);
                    border-radius:0;
                    &.add-extra-info{
                        padding-right:23px;
                        .checkbox{
                            top:13px;
                            &.fa-check{
                                right:7px;
                            }
                        }
                    }
                }
            }
        }
    }
}



#card-wrapper, #character-wrapper{
    top: 66px;
    position:absolute;
}
#character-wrapper{
    top: 56px;
    background:#eee;
    .container-fluid{
        background:#eee;
    }
}
.secondarynav{
    background-color:#8a8983;
    display:none;
}


// Here be mobile-only styles //

#character-wrapper-back{
    // margin:0;
}
#secondarynav{
    .navbar-header{
        position:relative;
        float:left;
        overflow:hidden;
    }
}

// //


.legend-keys{
    width: 160px;
    position: absolute;
    bottom: 15px;
    right: -140px;
    text-align:right;
    color:#FFF;
    z-index:9;
    > div{
        margin-top: 8px;
        // border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.1);
        display: inline-block;
        float: left;
        clear: both;
        padding: 2px 6px 0;
        border-radius: 6px;
    }
    .legend-keys--text{
        position: relative;
        bottom: 9px;
    }
    .legend-keys--divider{
        color: rgba(255, 255, 255, 0.5);
        font-size: 40px;
        font-weight: 300;
        position: relative;
        bottom: 4px;
    }
    .legend-keys--shift{
        background: #FFF;
        color: #cfce37;
        border-radius: 3px;
        font-weight: 700;
        padding: 0px 4px 1px;
        font-size:12px
    }
    .legend-keys--escape{
        background: #FFF;
        color: #cfce37;
        border-radius: 3px;
        font-weight: 700;
        padding: 0px 10px 7px 3px;
        font-size: 11px;
        display: block;
        margin: 5px 0;
    }
    svg{
        fill:#FFF;
    }
}



/* --- */

/* --- TYPOGRAPHY --- */

.input-type{
    display: inline-block;
    padding: 3px 8px;
    font-weight: 700;
    background: #ECECEC;
    border-radius: 5px;
    border-bottom: 1px solid #D1D1D1;
    margin-right: 10px;
    margin-bottom: 10px;
}

.panel-label{
    font-size: 12px;
    font-weight: 700;
    color: #959595;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* --- */

/* --- BUTTONS --- */

.btn{
    &:focus{
        outline:none;
        box-shadow:inherit;
    }
    &:hover{
        cursor:pointer;
    }
    &.active{
        background: #ff6951;
        color:#FFF;
    }
}
.rageModifier{
    .rageBtn.btn{
        font-size: 12px;
        padding: 5px 3px;
        background: #FFF !important;
        border: 1px solid #bfbfbf;
        color:initial;
        transition: unset;
        &:hover{
            background:#efefef !important;
        }
        &.active{
            background:#ff6951 !important;
            color:#FFF;
            &.resetBtn{
                background:#9e9e9e !important;
                color:#FFF !important;
            }
            &.maxRageBtn{
                background:#ca0505 !important;
            }
        }
    }
}

.btn.focus, .btn:focus, .btn:hover {
    /*color: #333;*/
    text-decoration: none;
}
// .btn.rageBtn:focus{
//     border: 1px solid #ccc;
// }

#filter-dropdown-btn{
    padding-left: 12px;
    padding-right: 12px;
}

.header-filters .btn, .filter-btn{
    font-weight: 700;
    text-transform: uppercase;
    padding: 5px;
    font-size: 12px;
    margin-left: 7px;
    background: $button-primary;
    color: #FFF;
    border: none;
    transition:background 0.2s ease;
}
.header-filters .btn:hover, .filter-btn:hover{
    background: $button-primary-hover;
    color:#FFF;
}

.header-filters .btn.active, .filter-btn.active{
    background: $button-primary-active;
    color: #FFF;
}
.header-filters .btn:focus, .filter-btn:focus{
    border:none;
    box-shadow:none;
}


.btn .caret{
    display: inline-block;
    width: 0;
    height: 0;
    margin-left: 2px;
    vertical-align: middle;
    border-right: 4px solid transparent;
    border-left: 4px solid transparent;
    border-top: 4px dashed;
}
.btn.asc .caret{
    content: "";
    border-top: 0;
    border-bottom: 4px dashed;
}

.dropdown-menu li{
    padding: 0 10px;
}
.dropdown-menu .btn{
    background:none;
    border:none;
    color:#FFF;
    display: block;
    width: 100%;
    text-align: left;
    margin:5px 0;
    padding-right:15px;
    border-radius:3px;
    transition:background-color 0.1s linear;
    position:relative;
}
.desktop .dropdown-menu .filter-btn.active{
    background:darken($primary-colour, 20%);
}
.desktop .dropdown-menu .btn:hover{
    background:lighten($primary-colour, 10%);
}
.desktop .dropdown-menu .li-separater{
    border-top: 1px solid $secondary-colour;
    padding-top: 5px !important;
    display: block;
    margin-top: 10px;
}

.mobile .add-extra-info{
    background: transparent;
    border: 1px solid darken($secondary-colour, 20%);
    color:darken($secondary-colour, 30%);
    position:relative;
    padding-right:20px;
    transition:background 0.1s linear;
}
.mobile .add-extra-info.checked{
    background: $primary-colour;
}
.mobile .add-extra-info .checkbox{
    top:5px;
    right:2px;
} 
.mobile .add-extra-info .checkbox svg{fill:darken($secondary-colour, 30%)}

/* https://stackoverflow.com/questions/41024505/position-the-caret-in-bootstrap-dropdown-button */
.desktop .dropdown-menu .caret{
    position:absolute;
    top:calc(50% - 1px);
    right:8px;
}

.btn .checkbox{
    position: absolute;
    top: 8px;
    right: 8px;
}
// .btn .checkbox .icon-check{display:none;}
// .btn.checked .checkbox .icon-check{display:block;}
// .btn.checked  .checkbox .icon-cross{display:none;}



/* --- */

/* --- TABLES --- */

.table-bordered td, .table-bordered th{border: 1px solid #eceeef;}
.table td, .table th {
    padding: .75rem;
    vertical-align: top;
    border-top: 1px solid #eceeef;
}
.table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(0,0,0,.05);
}
.table-sm td, .table-sm th {
    padding: .2rem;
}


/* --- */



/* --- */

#main{
    margin-left:1%;
    margin-right:1%;
}

.character-grid-active #characterGrid{
    display:flex;
    position:relative;
    top:55px;
    padding-right:7.5px; /* To account for the 'no-right-padding' of charBoxes, and keep them evenly spaced */
}

.characterTitleBar{
    position: absolute;
    bottom: 0;
    background: rgba(0,0,0,0.6);
    width: 100%;
    text-align: center;
    color: #FFF;
    font-weight: 700;
}
.characterImageContainer{
    height:120px;
    position:relative;
    overflow:hidden;
    cursor:initial !important;
}
.characterImageContainer ul{margin:0;}
.characterImageContainer .characterImage{
    background-position:-20px center;
    background-repeat:no-repeat;
    width:100%;
    height:100%;
    position:absolute;
    opacity:0.3;
}
.character-box{
    .characterImage{
        transition:opacity 0.3s ease, background-position 0.3s ease;
        background-position:center;
        background-image:none;
        &.left-image{
            background-position:20px center;
        }
        &.right-image{
            background-position:center;
        }
        &:hover{
            cursor:pointer;
        }

    }
    &.disabled{
        filter:grayscale(1);
        .grid-difficulty, .grid-fallspeed, .grid-gravity, .grid-percRange{
            display:none;
        }
        .characterImage{
        }
        &:after{
            content: 'N/A - Check Info';
            text-align: center;
            position: absolute;
            width: 100%;
            top: 39px;
            left: 7.5px;
            right: 0;
            width: auto;
            display: inline-block;
            color: #FFF;
            text-transform: uppercase;
            font-weight: 700;
            background: rgba(62, 62, 62, 0.8);
        }
    }
    &.hide{
        display:none;
    }
}

#characterGrid{
    .character-box {
        margin-bottom:7.5px;
        padding-right:0;
        text-align: left;
        position:relative;
        .characterImageContainer .characterImage{
            cursor:pointer;
        }
    }
}

.characterImageContainer-lightOverlay{
    background-color: transparent;
    position: absolute;
    z-index: 6;
    width: 100%;
    height: 100%;
    /*transition:background-color 0.2s ease;*/
}
.characterImageContainer-lightOverlay:hover{
    background-color: rgba(255,255,255,0.1);
}


.weight, .difficulty{font-size:0.7em;}


.characterOverview{
    color:#FFF;
    font-weight:bold;
    width: 150px;
    padding-top:10px;
    position:absolute;
    right:-200px;
}
.characterOverview li span.value{
    float:right;
    padding-right:20px;
}
.characterOverview ul, .characterOverview li{
    list-style-type:none;
}
.characterOverview:hover{cursor:default;}

.characterName{display:none;}

.grid-difficulty, .grid-percRange, .grid-fallspeed, .grid-gravity, .grid-difficultyValue, .grid-ledgeFsmash{position:absolute;}
.grid-percRange{top:6px; left:6px;}
.grid-difficulty{top:32px; left:2px;}
.grid-fallspeed{top:58px; left:6px;}
.grid-gravity{top:77px; left:6px;}
.grid-ledgeFsmash{top:77px; right:3px;}
.grid-difficultyValue{
    top: 77px;
    right: 5px;
    left: initial;
}
.extra-info{
    font-size: 12px;
    line-height: 12px;
    padding:2px 4px;
    background: #333;
    color: #FFF;
    border-radius: 3px;
}
.grid-ledgeFsmash{
    font-size: 12px;
    line-height: 12px;
    padding:2px 4px;
    background: #333;
    color: #FFF;
    border-radius: 3px;
    display:none;
}
.grid-ledgeFsmash span span{
    text-transform:uppercase;
    font-weight:700;
}
.grid-ledgeFsmash.no {background: #e03838;}
.grid-ledgeFsmash.yes {background: #4caf50;}



body.show-extra-info .extra-info{display:block;}
body.show-ledgeFsmash .grid-ledgeFsmash{display:block;}

.grid-percRange{
    background: #e03838;
    border: 1px solid #FFF;
    padding: 0 5px;
    font-size: 14px;
    line-height:1.5em;
    color: #FFF;
    border-radius: 3px;
    font-weight: 700;
}

.grid-index{
    position: absolute;
    top: 0px;
    right: 0px;
    color: rgba(255,255,255,0.5);
    font-size: 12px;
    line-height: 18px;
    text-align: center;
    background: rgba(0,0,0,0.2);
    display: inline-block;
    padding: 0 3px;
}

.very-hard, .hard, .average, .easy, .very-easy{
    text-transform:uppercase;
    padding: 1px 4px;
    border-radius: 3px;
    font-size: 12px;
    font-weight:700;
    color: #FFF;
    margin-left:4px;
}
.very-hard{
    background: #dd2c00;
}
.hard{
    background: #ef6c00;
}
.average{
    background: #FFEB3B;
    color: rgba(0,0,0,.87);
}
.easy{
    background: #4CAF50;
}
.very-easy{
    background: #8BC34A;
}

/* --- ACTIVE CLASSES --- */

.no-scroll.character-active .menu-page{
    display:none;
}
.no-scroll .menu-page{
    position:fixed;
    z-index:10;
    margin:0 !important;
    padding:0;
    width:auto;
    left:0;
    right:0;
    top:0;
    bottom:0;
    display:block;
}
#page-about, #page-credits, #page-info{
    position: absolute;
    z-index: 10;
    max-width: 600px !important;
    float: none;
    outline: 3px solid #FFF;
    overflow-y:scroll;
    -webkit-overflow-scrolling:touch;
    background:#FFF;
    left:10px;
    right:10px;
    top:0;
    bottom:0;
    margin:55px auto 20px;
    padding:0 20px 20px;
    h2{
        margin-top:20px;
        margin-bottom:20px;
    }
}

.giphy{
    width:100%;
    // height:0;
    padding-bottom:56%;
    position:relative;
    margin-top:20px;
    display:block !important; /* I don't know why the browser is setting this to 'display: none;' automatically as an inline style */
}
.detailed-info{
    margin-top:20px;
    margin-bottom:40px;
}


#characterModal.active{
    position:fixed;
    z-index:10;
    margin:0 !important;
    padding:0;
    width:auto;
    left:0;
    right:0;
    top:0;
    bottom:0;
    display:block !important;
    transition:background-color 0.3s ease;
}

/*#characterModal.active .grid-index{display:none;}*/


#characterModal.active .characterContainer{
    /*will-change: transform;*/ /* Don't know what this does. Stolen from pokedex.org styles */ /* ??? This stops the rage sticky bar from sticking! */
    position: absolute;
    z-index: 10;
    max-width: 600px !important;
    float: none;
    outline: 3px solid #FFF;
    overflow-y:scroll;
    -webkit-overflow-scrolling:touch;
    background:#FFF;
    left:10px;
    right:10px;
    top:0;
    bottom:0;
    margin:55px auto 20px;
}

.modalUnderlay{
    -webkit-transform-origin: 0 0;
    transform-origin: 0 0;
}
.no-scroll .modalUnderlay{
    display:block;
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    right:0;
    bottom:0;
    left: 0;
    z-index: 9;
    opacity:1;
    transition:background-color 0.2s ease;
}



#characterModal.active .characterName{
    display: block;
    position: absolute;
    margin:auto;
    bottom: 5px;
    left: 5px;
    background: rgba(0,0,0,0.5);
    padding: 3px 8px;
    border-radius: 5px;
    color: #FFF;
    font-weight: 700;
    text-transform: uppercase;
}

.backButton{
    position:absolute;
    top:10px;
    left:0;
    z-index:100;
    padding: 0.33em;
    border-radius: 50%;
    background: rgba(255,255,255,0);
    opacity:0;
    line-height: 0;
    transition:background-color 0.2s ease, opacity 0.5s ease, left 0.5s ease;
}
.active .backButton, .backButton.active{
    display: block;
    opacity: 1;
    background: rgba(0,0,0,0.1);
    transition:opacity 0.5s ease, background-color 0.2s ease;
}
.active .backButton:hover, .backButton.active:hover{
    background: rgba(0,0,0,0.5);
    cursor:pointer;
}

.icon-nextprev-container{
    position: absolute;
    width: 100%;
    max-width: 675px;
    height: 100%;
    margin: 0 auto;
    left: 10px;
    right: 10px;
}
#modalTitle{
    position: absolute;
    z-index: 100;
    left: 45px;
    width: 85%;
    height: 50px;
    text-align: left;
    color:#FFF;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    font-size: 90%;
    line-height: 95%;
    display:none;
    // margin-top: 1px;
    i{
        margin-top: 5px;
        margin-left: 2px;
        margin-right: 2px;
    }
}
#icon-next, #icon-prev{
    position: fixed;
    z-index: 20;
    display:none;
    top:50%;
    transition:left 0.5s ease, right 0.5s ease, background-color 0.2s ease;
    background-color: rgba(0,0,0,0.1);
    /*padding: 20px 0;*/
    height:60px;
}
#characterModal.active #icon-prev, #characterModal.active #icon-next{
    display:block;
}
#icon-prev{left: 5px;}
#icon-prev:hover{left:2px;}
#icon-next{right:5px;}
#icon-next:hover{right:2px;}
#icon-prev:hover, #icon-next:hover{
    background-color: rgba(0,0,0,0.5);
    cursor:pointer;
}

@keyframes animateBG{
    0%{
        background-position:center center;
        opacity:0;
    }
    100%{
        background-position:left center;
        opacity:0.3;
    }
}
@keyframes animateOverview{
    0%{right:-200px;}
    100%{right:0;}
}

#characterModal.animate .characterImage{
    background-position:left center;
    opacity:0.3;
    animation:animateBG 600ms cubic-bezier(0.215, 0.61, 0.355, 1);
    -webkit-animation:animateBG 600ms cubic-bezier(0.215, 0.61, 0.355, 1);
}

.active .characterTitleBar{
    bottom:-30px;
}
.active .characterDetails{
    /*display:block;*/
    display:inline-block;
    width:100%;
    background:#FFF;
    position:relative;
}
.animate .characterOverview{
    right:0%;
    animation:animateOverview 600ms cubic-bezier(0.215, 0.61, 0.355, 1);
    -webkit-animation:animateOverview 600ms cubic-bezier(0.215, 0.61, 0.355, 1);
    /*transition:right 0.5s ease;*/
}


/* TO DO - MOVE THESE STAGE STYLES TO A DEDICATED STYLESHEET SO THEY CAN BE CACHED AWAY FROM THE CRITICAL COMPONENTS IN CASE THE STAGE LISTS CHANGE */

.stage{
    border:1px solid;
    margin-bottom:20px;
    border-radius:3px;
}

.stageImage{
    height:100px;
    background-color:#cacaca;
    // float:left;
    margin:0 0 1%;
    // width: 100%;
    height: 50px;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
}

.stage h3{
    margin: 0;
    text-align: center;
    color: #FFF;
    text-transform: uppercase;
    font-weight: 700;
    font-size: 14px;
    padding: 3px 0;
    line-height: 1em;
}
.stage-content{
    padding:0;
}

/* To position the stages in a manner that compensates for the sticky Rage bar */
.stages{
    position: relative;
    top: 85px;
    padding:5px;
}


.stagePercents{
    // width:100%;
    // float:none;
    // margin:0;
    text-align:left;
}
.stagePercents p{margin-bottom:0;}


.stagePercents td{
    vertical-align:middle;
    font-size: 13px;
}

.stagePercents td span.percRange:after{
    content: '';
}
.nosymbol:before, .nosymbol:after{
    content: initial !important;
}

.stagePercents td .minPerc:after, .stagePercents td .maxPerc:after{
    content: '%';
}

.percRange-cell{
    background: #d8d8d8;
    font-size: 14px;
    background:url(../images/stripe.png) repeat top left;
}

.stagePercents th{
    background-color:rgba(0,0,0,.05);
    font-size:14px;
}
tr.table-descs{
    display:none;
}
tr.table-descs{
    display:table-row;
}
tr.table-descs td{
    font-size: 12px;
    text-transform: uppercase;
    font-weight: 700;
}

.modifiers{
    font-size: 14px;
    text-align:center;
    margin-top:20px;
    &.modifiers-stages{
        border-color:#ff6f00;
        h3{
            background:#ff6f00;
        }
    }
    &.modifiers-rage{
        border-color:#cc2727;
        h3{
            background:#cc2727;
        }
    }
    .modifiers-info{
        margin-bottom: 10px;
        font-size: 11px;
        text-transform: uppercase;
        font-weight: 700;
    }
    .container-fluid{
        padding-top:7.5px;
    }
    .modifiers-border{
        border:1px solid #eceeef;
        margin-bottom:10px;
        > div{
            padding-top:1px;
            padding-bottom:1px;
            display:flex;
            justify-content:space-evenly;
        }
    }
    .stage-name{
        background-color: rgba(0, 0, 0, 0.05);
        text-transform:uppercase;
        font-weight:700;
        font-size:11px
    }
    .hidden-sm-down{
        display:none;
    }

    .minPerc, .maxPerc{
        width:50%;
    }
}

/* --- CHARACTER DETAILS --- */

.sticky{
    position:absolute;
    top:0;
    width:100%;
}
.stickyName{
    text-align:center;
    background-color:transparent;
    text-transform: uppercase;
    font-weight: 700;
    padding: 0;
    color: #FFF;
    display:none;
    /*transition:height 0.5s ease;*/
}

/*.stuck .stickyName{
    display:block;
    height:28px;
    transition:height 0.5s ease;
}*/

.rageModifier{
    background: #e8e8e8;
    text-align: center;
    padding: 10px 0 15px;
}
.rageModifier h3{
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-top:0;
    margin-bottom:2px;
}
.rageModifier li{
    display:inline-block;
}

.stuck{
    position:fixed;
    z-index:6;
}
.rageModifier.stuck{
    padding:5px 0 10px;
}


/* #page-wrapper{
    perspective: 1200px;
} */
.pt-page{
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    visibility: hidden;
    /* overflow: hidden; */
    backface-visibility: hidden;
    /*transform: translate3d(0, 0, 0);
    transform-style: preserve-3d;*/ /* Messes up position:fixed; for secondary navigation */
}
.pt-page-current, .no-js .pt-page{
    visibility: visible;
    z-index: 1;
}

.pt-page-ontop {
    z-index: 4;
}


/* --- */



@media screen and (min-width:260px){
    .stagePercents td span.percRange:before{
        content: 'Â±';
    }
    .stagePercents td span:after{
        content:initial;
    }
}


@media screen and (min-width:480px){
    .btn.rageBtn{
        padding:5px 5px;
    }

    body.toggle-sidedrawer{
        overflow-y:scroll;
    }

    #sidedrawer-contents{
        position:static;
    }

}

@media screen and (max-width:420px){
    #secondarynav{
        .dropdown{
            width:180px;
        }
    }   
}


@media screen and (max-width:768px){
    /* styles for that effing dropdown for multiple moves in secondary nav */
    #secondarynav{
        display: flex;
        align-items: center !important;
        flex-wrap: initial;
        .navbar-header{
            width:100%;
            float:none;
            .dropdown{
                display: flex;
                align-items: center;
                flex-direction: column;
                overflow: hidden;
                min-width: auto;
                width: 100%;
                font-size: 14px;
                .dropdown-toggle{
                    width:100%;
                    text-align:left;
                    &:after{
                        position: absolute;
                        top: 50%;
                        right: 8px;
                    }
                }

            }
        }
        #moveName{
            width: 100%;
            display: block;
            overflow: hidden;
            margin-right: 0;
            top:-1px;
        }
    }

    .navbar-static-side{display:none;}

    body.toggle-sidedrawer{
        overflow-y:hidden;
        .navbar-static-side{
            display:block !important;
            position:fixed;
            overflow-y:scroll;
            top:56px;
            padding-bottom:56px;
        }
        #sidedrawer-overlay{
            display:block !important;
            top:56px;
            &:hover{
                cursor:pointer;
            }
        }
    }

    #primarynav{
        position:fixed;
        z-index:5;
        #about-menu-toggler{
            padding: 2px 14px;
            border-radius: 50%;
            position: absolute;
            right: 6px;
            top: 15px;
            &:hover{
                cursor:pointer;
            }
        }
        .navbar-nav{
            position: absolute;
            right: 15px;
            top: 56px;
            background: #ffffff;
            text-align: left;
            z-index: 8;
            border-radius: 3px;
            box-shadow: 0 1px 8px rgba(0, 0, 0, 0.3);
            display:none;
            .nav-item{
                display:block;
                font-size:120%;
                line-height:120%;
                .navbar-link{
                    display:block;
                    margin:0 !important;
                    color:#6f6f6f !important;
                    padding: 10px 20px;
                    border-bottom: 1px solid #efefef;
                    &:last-child{
                        margin-bottom:0;
                        padding-bottom:10px;
                    }
                }
            }
        }
    }
    body.toggle-aboutmenu{
        #primarynav .navbar-nav{display:block !important;}
    }
    #page-wrapper{overflow:visible;} // Need this for collapsible nav in top-right


    body.filtersActive{
        #sort{display:flex !important;}
    }
    #filtersbar{
        #sort{
            position: absolute;
            right: 15px;
            top: 45px;
            z-index: 1;
            flex-direction:column;
            text-align:right;
            border-radius:3px;
            display:none;
            overflow:hidden;

            li{
                // margin:10px 0 0;
                button{
                    width:100%;
                    text-align:right;
                    margin:0;
                    padding: 10px;
                    border-bottom: 1px solid rgba(0,0,0,0.2);
                    border-radius:0;
                }
                .dropdown-menu{
                    display: block;
                    position: static;
                    float: none;
                    padding: 0;
                    li{
                        padding:0;
                        a.add-extra-info{
                            .checkbox{
                                top:13px;
                            }
                        }
                    }
                }
            }
            .filter-dropdown-btn-container{display:none;}
        }
    }

    #characterGrid{
        .character-box{
            &:not('.hide'){
                padding-right:0;
            }
        }
    }



}

@media screen and (min-width:600px){
    #character-list li.active .characterImage{
        opacity:1;
    }

    .characterImageContainer .characterImage, .rightImage .characterImage{background-position:center;}
    .leftImage .characterImage{background-position:center;}
    /*.centreImage .characterImage{background-position:center;}*/
}

@media screen and (min-width:768px){

    .desktop{display:flex;}
    span.desktop{display:inline;}
    .mobile{display:none;}

    #page-wrapper{
        position: inherit;
        margin: 0 0 0 220px;
        min-height: 100vh;
        position:relative !important;
    }

    .navbar{
        &#primarynav{
            transform: translate(220px, 0);
            .navbar-nav{
                transform: translate(-220px, 0);
                display:flex;
            }
        }
    }

    .toggle-sidedrawer{
        #page-wrapper{
            // transform: translate(0, 0);
        }
        #primarynav{
            transform: translate(0, 0);
            .navbar-nav{
                transform: translate(0, 0);
            }
        }

    }


    #secondarynav .dropdown{
        top:3px;
    }
    
    #filtersbar-container{
        position:absolute;
        width:100%;
    }
    body{

        #sort{
            // margin-left:220px;
            // transform: translate(-220px, 0);
        }
        #characterGrid{
            top:110px !important;
            position:relative;
        }
        #secondarynav-container{
            position:absolute;
            width:100%;
            z-index:10;
            #info{
                position:relative;
                top:3px;
                transform:translate(0, 0);
            }
        }
        #filtersbar-container{
            background:#eeeeee;
            top:53px;
            position:absolute;
            padding: 3px 0 8px;
        }
        &.fixed-navbar{

            #secondarynav-container{
                position:fixed;
                #filtersbar-container{
                    // top:109px;
                    //top:43px;
                }
                #filters-bar{
                }
                #info{
                    transform: translate(-220px, 0);
                }
                #sort{
                    // transform: translate(-220px, 0);
                    // margin-left: 220px;
                }
            }

        }
        &.toggle-sidedrawer{
            #secondarynav-container{
                #info{
                    transform: translate(0, 0);
                }
                #sort{
                    transform:translate(0, 0) !important;
                    margin-left:0 !important;
                }
            }
        }
    }
    #filters-bar #sort li:first-child a{
        margin-left:15px;
    }

    .loading{
        .loader-container{
            position:fixed;
            .loader{
                right:220px;
            }
        }
    }

    #content-wrapper, #footer {
        margin-left: 200px;
    }
    body.toggle-sidedrawer #content-wrapper, body.toggle-sidedrawer #footer {
        margin-left: 0;
    }

    #icon-next, #icon-prev{
        position:absolute;
    }

    #sidedrawer-overlay{display:none !important;}

    #sidedrawer-contents{top:50px;}

    .btn-group.mobile{display:none !important;}

    .no-scroll .modalUnderlay{opacity:0.95;}

    .header-filters.desktop .btn-group{
        float:right;
    }

    .header-filters .dropdown-menu li{
        float:none;
    }
    .header-filters .btn{
        margin-top:-3px;
        font-size:14px;
        padding:5px 10px;
    }
    .backButton{
        left:30px;
    }
    #modalTitle{
        left:75px;
    }

    #body #sort{
        background-color:transparent !important;
        top:4px;

    }

    .text-dark{
        #icon-prev, #icon-next, #characterBackButton{
            .pathfill{
                fill:#333;
            }
        }
    }

    #filtersbar{
        #sort{
            .dropdown-menu{
                top:33px;
            }
        }
    }


    .characterImageContainer, .leftImage, .rightImage{
        .characterImage:hover{background-position:center -7px;}
    }

    @keyframes animateBG{
        0%{
            background-position:center center;
            opacity:0;
        }
        100%{
            background-position:left center;
            opacity:1;
        }
    }

    #characterModal.animate .characterImage{
        opacity:1;
        animation:animateBG 600ms cubic-bezier(0.215, 0.61, 0.355, 1);
        -webkit-animation:animateBG 600ms cubic-bezier(0.215, 0.61, 0.355, 1);
    }
    .percRange-cell{
        width: 70px;
    }
    .stagePercents td .minPerc:after, .stagePercents td .maxPerc:after{
        font-size: 12px;
    }


    .filtersText{display:inline;}

    .stageImage{
        height:100px;
    }
    .stage-content > .row{
        padding:1em;
    }

    .stageImage{
        // width:22%;
        // margin:1%;
        // height:100px;
        // float:left;
    }
    .stageTables{
        // width:75%;
        // margin:1%;
        // margin-right:0;
        // float:left;
    }
    // .stagePercents{
    //     width: 66%;
    //     float: right;
    //     margin-bottom: 10px;
    // }

    .characterImageContainer .characterImage{
        opacity:1;
    }

    .table-sm td, .table-sm th{padding:0.3rem;}
    #character-list li.active .characterContainer{
        margin: 20px auto 20px;  
    }

    .stagePercents td{
        font-size:16px;
    }

    #notification{width:400px;}

}

@media screen and (min-width:768px) and (max-width:990px){
    #characterGrid{
        .character-box:not('.hide'){
            padding-right:0;
        }
    }
}

@media screen and (min-width:990px){

    #character-list{max-width:100%;}

    .leftImage .characterImage{
        background-position:center;
    }

    #characterGrid{
        .character-box{
            &:not('.hide'){
                padding-right:0;
            }
        }
    }



}